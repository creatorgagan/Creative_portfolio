import{r as oe}from"./rolldown-runtime-CzF6_L4l.js";import{a as M,c as C,l as se,o as S,s as re,u as le}from"./admin-components-D24Ek_cO.js";import{a as ue,i as m,n as u,r as ce,t as s}from"./classPrivateFieldSet2-DTU-rhuG.js";var de=oe(le(),1);re();se();var Y,fe="https://www.youtube.com/embed",pe="https://www.youtube-nocookie.com/embed",he="https://www.youtube.com/iframe_api",ve="YT",me="onYouTubeIframeAPIReady",Q=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})/,ge=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/.*?[?&]list=)([\w_-]+)/;function ne(e,t={}){var r;const n={src:ie(e,t),frameborder:0,width:"100%",height:"100%",allow:"accelerometer; fullscreen; autoplay; encrypted-media; gyroscope; picture-in-picture"};return(r=t.config)!=null&&r.referrerpolicy&&(n.referrerpolicy=t.config.referrerpolicy),t.config&&(n["data-config"]=JSON.stringify(t.config)),`
    <style>
      :host {
        display: inline-block;
        line-height: 0;
        position: relative;
        min-width: 300px;
        min-height: 150px;
      }
      iframe {
        position: absolute;
        top: 0;
        left: 0;
      }
    </style>
    <iframe${be(n)}></iframe>
  `}function ie(e,t){var r;if(!e.src)return;const n=e.src.includes("-nocookie")?pe:fe,l=S({controls:e.controls===""?null:0,autoplay:e.autoplay,loop:e.loop,mute:e.muted,playsinline:e.playsinline,preload:(r=e.preload)!==null&&r!==void 0?r:"metadata",enablejsapi:1,cc_load_policy:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},t.config);if(Q.test(e.src)){const f=e.src.match(Q);return`${n}/${f&&f[1]}?${Z(l)}`}const c=e.src.match(ge);return`${n}?${Z(S({listType:"playlist",list:c&&c[1]},l))}`}var x=new WeakMap,B=new WeakMap,E=new WeakMap,w=new WeakMap,_=new WeakMap,D=new WeakMap,H=new WeakMap,A=new WeakMap,T=new WeakMap,X=new WeakSet,R=class extends((Y=globalThis.HTMLElement)!==null&&Y!==void 0?Y:class{}){constructor(){super(),ue(this,X),C(this,"loadComplete",new q),m(this,x,void 0),m(this,B,void 0),m(this,E,0),m(this,w,!1),m(this,_,void 0),C(this,"isLoaded",!1),m(this,D,null),m(this,H,null),m(this,A,null),m(this,T,1),ce(X,this,ye).call(this,"config")}get config(){return u(H,this)}set config(e){s(H,this,e)}load(){var e=this;return M(function*(){if(u(x,e))return;e.shadowRoot||e.attachShadow({mode:"open"});const t=!u(B,e);u(B,e)&&(e.loadComplete=new q,e.isLoaded=!1),s(B,e,!0),yield s(x,e,Promise.resolve()),s(x,e,null),s(E,e,0),e.dispatchEvent(new Event("emptied"));let r=e.api;if(e.api=null,!e.src){r==null||r.destroy();return}s(A,e,document.createElement("video")),e.textTracks=u(A,e).textTracks,e.textTracks.addEventListener("change",()=>{var i;const d=Array.from(e.textTracks).find(p=>p.mode==="showing");(i=e.api)==null||i.setOption("captions","track",d?{languageCode:d.language}:{})}),e.dispatchEvent(new Event("loadstart"));let n=e.shadowRoot.querySelector("iframe"),l=Ee(e.attributes);t&&n&&s(H,e,JSON.parse(n.getAttribute("data-config")||"{}")),(!(n!=null&&n.src)||n.src!==ie(l,e))&&(e.shadowRoot.innerHTML=ne(l,e),n=e.shadowRoot.querySelector("iframe"));const c=yield we(he,ve,me);e.api=new c.Player(n,{events:{onReady:()=>{var i;s(E,e,1),e.dispatchEvent(new Event("loadedmetadata")),e.dispatchEvent(new Event("durationchange")),u(T,e)!==1&&((i=e.api)==null||i.setVolume(u(T,e)*100)),e.dispatchEvent(new Event("volumechange")),e.dispatchEvent(new Event("loadcomplete")),e.isLoaded=!0,e.loadComplete.resolve()},onError:i=>{console.error(i),s(D,e,{code:i.data,message:`YouTube iframe player error #${i.data}; visit https://developers.google.com/youtube/iframe_api_reference#onError for the full error message.`}),e.dispatchEvent(new Event("error"))}}});let f=!1;e.api.addEventListener("onStateChange",i=>{var d;const p=i.data;if((p===c.PlayerState.PLAYING||p===c.PlayerState.BUFFERING)&&(f||(f=!0,e.dispatchEvent(new Event("play"))),(e.api.getOption("captions","tracklist")||[]).forEach(g=>{[...e.textTracks].some(v=>v.language===g.languageCode)||u(A,e).addTextTrack("subtitles",g.displayName,g.languageCode),e.textTracks=u(A,e).textTracks}),e.dispatchEvent(new Event("loadstart"))),p===c.PlayerState.PLAYING)e.seeking&&(s(w,e,!1),(d=u(_,e))==null||d.resolve(),e.dispatchEvent(new Event("seeked"))),s(E,e,3),e.dispatchEvent(new Event("playing"));else if(p===c.PlayerState.PAUSED){const g=Math.abs(e.currentTime-k);!e.seeking&&g>.1&&(s(w,e,!0),e.dispatchEvent(new Event("seeking"))),f=!1,e.dispatchEvent(new Event("pause"))}p===c.PlayerState.ENDED&&(f=!1,e.dispatchEvent(new Event("pause")),e.dispatchEvent(new Event("ended")),e.loop&&e.play())}),e.api.addEventListener("onPlaybackRateChange",()=>{e.dispatchEvent(new Event("ratechange"))}),e.api.addEventListener("onVolumeChange",()=>{var i;s(T,e,((i=e.api)==null?void 0:i.getVolume())/100),e.dispatchEvent(new Event("volumechange"))}),e.api.addEventListener("onVideoProgress",()=>{e.dispatchEvent(new Event("timeupdate"))}),yield e.loadComplete;let k=0;setInterval(()=>{var i;const d=Math.abs(e.currentTime-k),p=e.buffered.end(e.buffered.length-1);e.seeking&&p>.1?(s(w,e,!1),(i=u(_,e))==null||i.resolve(),e.dispatchEvent(new Event("seeked"))):!e.seeking&&d>.1&&(s(w,e,!0),e.dispatchEvent(new Event("seeking"))),k=e.currentTime},50);let L;const I=setInterval(()=>{const i=e.buffered.end(e.buffered.length-1);i>=e.duration&&(clearInterval(I),s(E,e,4)),L!=i&&(L=i,e.dispatchEvent(new Event("progress")))},100)})()}attributeChangedCallback(e,t,r){var n=this;return M(function*(){if(t!==r)switch(e){case"src":case"autoplay":case"controls":case"loop":case"playsinline":n.load()}})()}play(){var e=this;return M(function*(){var t;return s(_,e,null),yield e.loadComplete,(t=e.api)==null||t.playVideo(),Le(e)})()}pause(){var e=this;return M(function*(){var t;return yield e.loadComplete,(t=e.api)==null?void 0:t.pauseVideo()})()}get seeking(){return u(w,this)}get readyState(){return u(E,this)}get src(){return this.getAttribute("src")}set src(e){this.src!=e&&this.setAttribute("src",e)}get error(){return u(D,this)}get paused(){var e,t;return this.isLoaded?[-1,0,2,5].includes((t=(e=this.api)==null?void 0:e.getPlayerState)==null?void 0:t.call(e)):!this.autoplay}get duration(){var e,t,r;return(e=(r=(t=this.api)==null?void 0:t.getDuration)==null?void 0:r.call(t))!==null&&e!==void 0?e:NaN}get autoplay(){return this.hasAttribute("autoplay")}set autoplay(e){this.autoplay!=e&&this.toggleAttribute("autoplay",!!e)}get buffered(){var e,t;if(!this.isLoaded)return U();const r=((e=this.api)==null?void 0:e.getVideoLoadedFraction())*((t=this.api)==null?void 0:t.getDuration());return r>0?U(0,r):U()}get controls(){return this.hasAttribute("controls")}set controls(e){this.controls!=e&&this.toggleAttribute("controls",!!e)}get currentTime(){var e,t,r;return(e=(r=(t=this.api)==null?void 0:t.getCurrentTime)==null?void 0:r.call(t))!==null&&e!==void 0?e:0}set currentTime(e){this.currentTime!=e&&(s(_,this,new q),this.loadComplete.then(()=>{var t,r;(t=this.api)==null||t.seekTo(e,!0),this.paused&&((r=u(_,this))==null||r.then(()=>{var n;u(_,this)&&((n=this.api)==null||n.pauseVideo())}))}))}set defaultMuted(e){this.defaultMuted!=e&&this.toggleAttribute("muted",!!e)}get defaultMuted(){return this.hasAttribute("muted")}get loop(){return this.hasAttribute("loop")}set loop(e){this.loop!=e&&this.toggleAttribute("loop",!!e)}set muted(e){this.muted!=e&&this.loadComplete.then(()=>{var t,r;e?(t=this.api)==null||t.mute():(r=this.api)==null||r.unMute()})}get muted(){var e,t;return this.isLoaded?(t=(e=this.api)==null?void 0:e.isMuted)==null?void 0:t.call(e):this.defaultMuted}get playbackRate(){var e,t,r;return(e=(r=(t=this.api)==null?void 0:t.getPlaybackRate)==null?void 0:r.call(t))!==null&&e!==void 0?e:1}set playbackRate(e){this.playbackRate!=e&&this.loadComplete.then(()=>{var t;(t=this.api)==null||t.setPlaybackRate(e)})}get playsInline(){return this.hasAttribute("playsinline")}set playsInline(e){this.playsInline!=e&&this.toggleAttribute("playsinline",!!e)}get poster(){return this.getAttribute("poster")}set poster(e){this.poster!=e&&this.setAttribute("poster",`${e}`)}set volume(e){this.volume!=e&&(s(T,this,e),this.loadComplete.then(()=>{var t;(t=this.api)==null||t.setVolume(e*100)}))}get volume(){var e;return this.isLoaded?((e=this.api)==null?void 0:e.getVolume())/100:u(T,this)}};function ye(e){if(Object.prototype.hasOwnProperty.call(this,e)){const t=this[e];delete this[e],this[e]=t}}C(R,"getTemplateHTML",ne);C(R,"shadowRootOptions",{mode:"open"});C(R,"observedAttributes",["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src"]);function be(e){let t="";for(const r in e){const n=e[r];n===""?t+=` ${F(r)}`:t+=` ${F(r)}="${F(`${n}`)}"`}return t}function F(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/`/g,"&#x60;")}function Z(e){return String(new URLSearchParams(_e(e)))}function _e(e){let t={};for(let r in e){let n=e[r];n===!0||n===""?t[r]=1:n===!1?t[r]=0:n!=null&&(t[r]=n)}return t}function Ee(e){let t={};for(let r of e)t[r.name]=r.value;return t}var G={};function we(e,t,r){return J.apply(this,arguments)}function J(){return J=M(function*(e,t,r){return G[e]?G[e]:t&&self[t]?(yield Te(0),self[t]):G[e]=new Promise(function(n,l){const c=document.createElement("script");c.src=e;const f=()=>n(self[t]);r&&(self[r]=f),c.onload=()=>!r&&f(),c.onerror=l,document.head.append(c)})}),J.apply(this,arguments)}var Te=e=>new Promise(t=>setTimeout(t,e));function ke(e){return(...t)=>new Promise(r=>{e(...t,(...n)=>{n.length>1?r(n):r(n[0])})})}function Le(e){return ke((t,r)=>{let n;e.addEventListener(t,n=()=>{e.removeEventListener(t,n),r()})})("playing")}var q=class extends Promise{constructor(e=()=>{}){let t,r;super((n,l)=>{e(n,l),t=n,r=l}),this.resolve=t,this.reject=r}};function U(e,t){return Array.isArray(e)?z(e):e==null||t==null||e===0&&t===0?z([[0,0]]):z([[e,t]])}function z(e){return Object.defineProperties(e,{start:{value:t=>e[t][0]},end:{value:t=>e[t][1]}}),e}globalThis.customElements&&!globalThis.customElements.get("youtube-video")&&globalThis.customElements.define("youtube-video",R);var Pe=R;re();var Ae=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),Me={className:"class",htmlFor:"for"};function ae(e){return e.toLowerCase()}function ee(e){if(typeof e=="boolean")return e?"":void 0;if(typeof e!="function"&&!(typeof e=="object"&&e!==null))return e}function Se({react:e,tagName:t,elementClass:r,events:n,displayName:l,defaultProps:c,toAttributeName:f=ae,toAttributeValue:k=ee}){const L=Number.parseInt(e.version)>=19,I=e.forwardRef((i,d)=>{var p,g;const v=e.useRef(null),W=e.useRef(new Map),$={},K={},y={},O={};for(const[a,o]of Object.entries(i)){var V,j;if(Ae.has(a)){y[a]=o;continue}const h=f((V=Me[a])!==null&&V!==void 0?V:a);if(r.prototype&&a in r.prototype&&!(a in((j=(p=globalThis.HTMLElement)==null?void 0:p.prototype)!==null&&j!==void 0?j:{}))&&!((g=r.observedAttributes)!=null&&g.some(P=>P===h))){O[a]=o;continue}if(a.startsWith("on")){$[a]=o;continue}const b=k(o);h&&b!=null&&(K[h]=String(b),L||(y[h]=b)),h&&L&&(b!==ee(o)?y[h]=b:y[h]=o)}if(typeof window!="undefined"){for(const a in $){var N;const o=$[a],h=a.endsWith("Capture"),b=((N=n==null?void 0:n[a])!==null&&N!==void 0?N:a.slice(2).toLowerCase()).slice(0,h?-7:void 0);e.useLayoutEffect(()=>{const P=v==null?void 0:v.current;if(!(!P||typeof o!="function"))return P.addEventListener(b,o,h),()=>{P.removeEventListener(b,o,h)}},[v==null?void 0:v.current,o])}e.useLayoutEffect(()=>{if(v.current===null)return;const a=new Map;for(const o in O)te(v.current,o,O[o]),W.current.delete(o),a.set(o,O[o]);for(const[o,h]of W.current)te(v.current,o,void 0);W.current=a})}if(typeof window=="undefined"&&(r!=null&&r.getTemplateHTML)&&(r!=null&&r.shadowRootOptions)){const{mode:a,delegatesFocus:o}=r.shadowRootOptions;y.children=[e.createElement("template",{shadowrootmode:a,shadowrootdelegatesfocus:o,dangerouslySetInnerHTML:{__html:r.getTemplateHTML(K,i)},key:"ce-la-react-ssr-template-shadow-root"}),y.children]}return e.createElement(t,S(S(S({},c),y),{},{ref:e.useCallback(a=>{v.current=a,typeof d=="function"?d(a):d!==null&&(d.current=a)},[d])}),y.children)});return I.displayName=l!=null?l:r.name,I}function te(e,t,r){var n,l;e[t]=r,r==null&&t in((n=(l=globalThis.HTMLElement)==null?void 0:l.prototype)!==null&&n!==void 0?n:{})&&e.removeAttribute(t)}var Oe=Se({react:de.default,tagName:"youtube-video",elementClass:Pe,toAttributeName(e){return e==="muted"?"":e==="defaultMuted"?"muted":ae(e)}});export{Oe as default};

//# sourceMappingURL=react-MXIYiFOV.js.map