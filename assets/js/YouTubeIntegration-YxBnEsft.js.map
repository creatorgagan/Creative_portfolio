{"version":3,"file":"YouTubeIntegration-YxBnEsft.js","names":["videos: YouTubeVideo[]","tags: string[]","allVideos: VideoItem[]","YouTubeIntegration: React.FC<YouTubeIntegrationProps>"],"sources":["../../../src/services/youtube.ts","../../../src/hooks/useYouTube.ts","../../../src/components/YouTube/YouTubeIntegration.tsx"],"sourcesContent":["import { YouTubePlaylist, YouTubeVideo, VideoItem, VideoCategory } from '../types';\r\n\r\n// YouTube API configuration\r\nconst YOUTUBE_API_BASE_URL = 'https://www.googleapis.com/youtube/v3';\r\n\r\n// YouTube API key should be set as environment variable\r\nconst API_KEY = import.meta.env.VITE_YOUTUBE_API_KEY || '';\r\n\r\nexport class YouTubeAPIError extends Error {\r\n  public code: number;\r\n  public details?: any;\r\n\r\n  constructor(code: number, message: string, details?: any) {\r\n    super(message);\r\n    this.name = 'YouTubeAPIError';\r\n    this.code = code;\r\n    this.details = details;\r\n  }\r\n}\r\n\r\nexport class YouTubeService {\r\n  private apiKey: string;\r\n\r\n  constructor(apiKey?: string) {\r\n    this.apiKey = apiKey || API_KEY;\r\n  }\r\n\r\n  /**\r\n   * Fetch playlist information and videos from YouTube API\r\n   */\r\n  async fetchPlaylist(playlistId: string): Promise<YouTubePlaylist> {\r\n    if (!this.apiKey) {\r\n      throw new Error('YouTube API key is required');\r\n    }\r\n\r\n    try {\r\n      // Fetch playlist details\r\n      const playlistResponse = await fetch(\r\n        `${YOUTUBE_API_BASE_URL}/playlists?part=snippet&id=${playlistId}&key=${this.apiKey}`\r\n      );\r\n\r\n      if (!playlistResponse.ok) {\r\n        throw new YouTubeAPIError(\r\n          playlistResponse.status,\r\n          `Failed to fetch playlist: ${playlistResponse.statusText}`\r\n        );\r\n      }\r\n\r\n      const playlistData = await playlistResponse.json();\r\n      \r\n      if (!playlistData.items || playlistData.items.length === 0) {\r\n        throw new Error('Playlist not found');\r\n      }\r\n\r\n      const playlistInfo = playlistData.items[0];\r\n\r\n      // Fetch playlist items (videos)\r\n      const videosResponse = await fetch(\r\n        `${YOUTUBE_API_BASE_URL}/playlistItems?part=snippet&playlistId=${playlistId}&maxResults=50&key=${this.apiKey}`\r\n      );\r\n\r\n      if (!videosResponse.ok) {\r\n        throw new YouTubeAPIError(\r\n          videosResponse.status,\r\n          `Failed to fetch playlist videos: ${videosResponse.statusText}`\r\n        );\r\n      }\r\n\r\n      const videosData = await videosResponse.json();\r\n\r\n      // Get video details for duration and view count\r\n      const videoIds = videosData.items\r\n        .map((item: any) => item.snippet.resourceId.videoId)\r\n        .join(',');\r\n\r\n      const videoDetailsResponse = await fetch(\r\n        `${YOUTUBE_API_BASE_URL}/videos?part=contentDetails,statistics&id=${videoIds}&key=${this.apiKey}`\r\n      );\r\n\r\n      const videoDetailsData = videoDetailsResponse.ok \r\n        ? await videoDetailsResponse.json() \r\n        : { items: [] };\r\n\r\n      // Process videos\r\n      const videos: YouTubeVideo[] = videosData.items.map((item: any, index: number) => {\r\n        const videoId = item.snippet.resourceId.videoId;\r\n        const details = videoDetailsData.items?.find((detail: any) => detail.id === videoId);\r\n        \r\n        return {\r\n          videoId,\r\n          title: item.snippet.title,\r\n          description: item.snippet.description || '',\r\n          thumbnail: item.snippet.thumbnails?.maxres?.url || \r\n                    item.snippet.thumbnails?.high?.url || \r\n                    item.snippet.thumbnails?.medium?.url || \r\n                    item.snippet.thumbnails?.default?.url || '',\r\n          publishedAt: new Date(item.snippet.publishedAt),\r\n          duration: details?.contentDetails?.duration || 'PT0S',\r\n          viewCount: parseInt(details?.statistics?.viewCount || '0', 10)\r\n        };\r\n      });\r\n\r\n      return {\r\n        playlistId,\r\n        title: playlistInfo.snippet.title,\r\n        description: playlistInfo.snippet.description || '',\r\n        videos\r\n      };\r\n    } catch (error) {\r\n      if (error instanceof YouTubeAPIError) {\r\n        throw error;\r\n      }\r\n      if (error instanceof Error) {\r\n        throw new Error(`YouTube API error: ${error.message}`);\r\n      }\r\n      throw new Error(`YouTube API error: ${error}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Fetch individual video details\r\n   */\r\n  async fetchVideo(videoId: string): Promise<YouTubeVideo> {\r\n    if (!this.apiKey) {\r\n      throw new Error('YouTube API key is required');\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(\r\n        `${YOUTUBE_API_BASE_URL}/videos?part=snippet,contentDetails,statistics&id=${videoId}&key=${this.apiKey}`\r\n      );\r\n\r\n      if (!response.ok) {\r\n        throw new YouTubeAPIError(\r\n          response.status,\r\n          `Failed to fetch video: ${response.statusText}`\r\n        );\r\n      }\r\n\r\n      const data = await response.json();\r\n      \r\n      if (!data.items || data.items.length === 0) {\r\n        throw new Error('Video not found');\r\n      }\r\n\r\n      const video = data.items[0];\r\n\r\n      return {\r\n        videoId,\r\n        title: video.snippet.title,\r\n        description: video.snippet.description || '',\r\n        thumbnail: video.snippet.thumbnails?.maxres?.url || \r\n                  video.snippet.thumbnails?.high?.url || \r\n                  video.snippet.thumbnails?.medium?.url || \r\n                  video.snippet.thumbnails?.default?.url || '',\r\n        publishedAt: new Date(video.snippet.publishedAt),\r\n        duration: video.contentDetails?.duration || 'PT0S',\r\n        viewCount: parseInt(video.statistics?.viewCount || '0', 10)\r\n      };\r\n    } catch (error) {\r\n      if (error instanceof YouTubeAPIError) {\r\n        throw error;\r\n      }\r\n      if (error instanceof Error) {\r\n        throw new Error(`YouTube API error: ${error.message}`);\r\n      }\r\n      throw new Error(`YouTube API error: ${error}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Convert YouTube video to VideoItem format\r\n   */\r\n  convertToVideoItem(youtubeVideo: YouTubeVideo, category: VideoCategory = VideoCategory.OTHER): VideoItem {\r\n    return {\r\n      id: `youtube-${youtubeVideo.videoId}`,\r\n      title: youtubeVideo.title,\r\n      description: youtubeVideo.description,\r\n      thumbnail: youtubeVideo.thumbnail,\r\n      videoUrl: `https://www.youtube.com/watch?v=${youtubeVideo.videoId}`,\r\n      youtubeId: youtubeVideo.videoId,\r\n      category,\r\n      tags: this.extractTagsFromDescription(youtubeVideo.description),\r\n      createdDate: youtubeVideo.publishedAt,\r\n      featured: false,\r\n      duration: this.parseDuration(youtubeVideo.duration),\r\n      viewCount: youtubeVideo.viewCount\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Convert YouTube playlist to VideoItem array\r\n   */\r\n  convertPlaylistToVideoItems(playlist: YouTubePlaylist, category: VideoCategory = VideoCategory.OTHER): VideoItem[] {\r\n    return playlist.videos.map(video => this.convertToVideoItem(video, category));\r\n  }\r\n\r\n  /**\r\n   * Parse YouTube duration format (PT4M13S) to seconds\r\n   */\r\n  private parseDuration(duration: string): number {\r\n    const match = duration.match(/PT(?:(\\d+)H)?(?:(\\d+)M)?(?:(\\d+)S)?/);\r\n    if (!match) return 0;\r\n\r\n    const hours = parseInt(match[1] || '0', 10);\r\n    const minutes = parseInt(match[2] || '0', 10);\r\n    const seconds = parseInt(match[3] || '0', 10);\r\n\r\n    return hours * 3600 + minutes * 60 + seconds;\r\n  }\r\n\r\n  /**\r\n   * Extract tags from video description\r\n   */\r\n  private extractTagsFromDescription(description: string): string[] {\r\n    const tags: string[] = [];\r\n    \r\n    // Look for hashtags\r\n    const hashtagMatches = description.match(/#[\\w]+/g);\r\n    if (hashtagMatches) {\r\n      tags.push(...hashtagMatches.map(tag => tag.substring(1).toLowerCase()));\r\n    }\r\n\r\n    // Look for common keywords\r\n    const keywords = [\r\n      'commercial', 'music video', 'documentary', 'short film', \r\n      'wedding', 'corporate', 'event', 'promotional', 'cinematic'\r\n    ];\r\n\r\n    keywords.forEach(keyword => {\r\n      if (description.toLowerCase().includes(keyword)) {\r\n        tags.push(keyword.replace(' ', '-'));\r\n      }\r\n    });\r\n\r\n    return [...new Set(tags)]; // Remove duplicates\r\n  }\r\n\r\n  /**\r\n   * Get video thumbnail URL with fallback sizes\r\n   */\r\n  static getThumbnailUrl(video: YouTubeVideo, size: 'default' | 'medium' | 'high' | 'maxres' = 'high'): string {\r\n    const thumbnails = {\r\n      maxres: video.thumbnail,\r\n      high: video.thumbnail,\r\n      medium: video.thumbnail,\r\n      default: video.thumbnail\r\n    };\r\n\r\n    return thumbnails[size] || video.thumbnail;\r\n  }\r\n\r\n  /**\r\n   * Format view count for display\r\n   */\r\n  static formatViewCount(viewCount: number): string {\r\n    if (viewCount >= 1000000000) {\r\n      return `${(viewCount / 1000000000).toFixed(1)}B views`;\r\n    } else if (viewCount >= 1000000) {\r\n      return `${(viewCount / 1000000).toFixed(1)}M views`;\r\n    } else if (viewCount >= 1000) {\r\n      return `${(viewCount / 1000).toFixed(1)}K views`;\r\n    }\r\n    return `${viewCount} views`;\r\n  }\r\n\r\n  /**\r\n   * Format duration for display\r\n   */\r\n  static formatDuration(seconds: number): string {\r\n    const hours = Math.floor(seconds / 3600);\r\n    const minutes = Math.floor((seconds % 3600) / 60);\r\n    const secs = seconds % 60;\r\n\r\n    if (hours > 0) {\r\n      return `${hours}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\r\n    }\r\n    return `${minutes}:${secs.toString().padStart(2, '0')}`;\r\n  }\r\n}\r\n\r\n// Default instance\r\nexport const youtubeService = new YouTubeService();\r\n\r\n// Error handling utilities\r\nexport const handleYouTubeError = (error: any): string => {\r\n  if (error instanceof YouTubeAPIError) {\r\n    switch (error.code) {\r\n      case 400:\r\n        return 'Invalid request. Please check the video or playlist ID.';\r\n      case 403:\r\n        return 'Access forbidden. Please check your API key permissions.';\r\n      case 404:\r\n        return 'Video or playlist not found.';\r\n      case 429:\r\n        return 'Too many requests. Please try again later.';\r\n      default:\r\n        return `YouTube API error: ${error.message}`;\r\n    }\r\n  }\r\n  \r\n  if (error instanceof Error) {\r\n    return error.message;\r\n  }\r\n  \r\n  return 'An unexpected error occurred while fetching YouTube data.';\r\n};","import { useState, useEffect, useCallback } from 'react';\r\nimport { YouTubePlaylist, YouTubeVideo, VideoItem, VideoCategory } from '../types';\r\nimport { youtubeService, handleYouTubeError } from '../services/youtube';\r\n\r\nexport interface UseYouTubeState {\r\n  playlist: YouTubePlaylist | null;\r\n  videos: VideoItem[];\r\n  loading: boolean;\r\n  error: string | null;\r\n}\r\n\r\nexport interface UseYouTubeActions {\r\n  fetchPlaylist: (playlistId: string, category?: VideoCategory) => Promise<void>;\r\n  fetchVideo: (videoId: string, category?: VideoCategory) => Promise<VideoItem | null>;\r\n  clearError: () => void;\r\n  retry: () => void;\r\n}\r\n\r\nexport interface UseYouTubeReturn extends UseYouTubeState, UseYouTubeActions {}\r\n\r\n/**\r\n * Custom hook for YouTube API integration\r\n */\r\nexport const useYouTube = (initialPlaylistId?: string): UseYouTubeReturn => {\r\n  const [state, setState] = useState<UseYouTubeState>({\r\n    playlist: null,\r\n    videos: [],\r\n    loading: false,\r\n    error: null\r\n  });\r\n\r\n  const [lastPlaylistId, setLastPlaylistId] = useState<string | undefined>(initialPlaylistId);\r\n\r\n  const fetchPlaylist = useCallback(async (playlistId: string, category: VideoCategory = VideoCategory.OTHER) => {\r\n    setState(prev => ({ ...prev, loading: true, error: null }));\r\n    setLastPlaylistId(playlistId);\r\n\r\n    try {\r\n      const playlist = await youtubeService.fetchPlaylist(playlistId);\r\n      const videos = youtubeService.convertPlaylistToVideoItems(playlist, category);\r\n\r\n      setState(prev => ({\r\n        ...prev,\r\n        playlist,\r\n        videos,\r\n        loading: false,\r\n        error: null\r\n      }));\r\n    } catch (error) {\r\n      const errorMessage = handleYouTubeError(error);\r\n      setState(prev => ({\r\n        ...prev,\r\n        loading: false,\r\n        error: errorMessage\r\n      }));\r\n    }\r\n  }, []);\r\n\r\n  const fetchVideo = useCallback(async (videoId: string, category: VideoCategory = VideoCategory.OTHER): Promise<VideoItem | null> => {\r\n    try {\r\n      const youtubeVideo = await youtubeService.fetchVideo(videoId);\r\n      return youtubeService.convertToVideoItem(youtubeVideo, category);\r\n    } catch (error) {\r\n      const errorMessage = handleYouTubeError(error);\r\n      setState(prev => ({ ...prev, error: errorMessage }));\r\n      return null;\r\n    }\r\n  }, []);\r\n\r\n  const clearError = useCallback(() => {\r\n    setState(prev => ({ ...prev, error: null }));\r\n  }, []);\r\n\r\n  const retry = useCallback(() => {\r\n    if (lastPlaylistId) {\r\n      fetchPlaylist(lastPlaylistId);\r\n    }\r\n  }, [lastPlaylistId, fetchPlaylist]);\r\n\r\n  // Auto-fetch initial playlist if provided\r\n  useEffect(() => {\r\n    if (initialPlaylistId && !state.playlist && !state.loading) {\r\n      fetchPlaylist(initialPlaylistId);\r\n    }\r\n  }, [initialPlaylistId, fetchPlaylist, state.playlist, state.loading]);\r\n\r\n  return {\r\n    ...state,\r\n    fetchPlaylist,\r\n    fetchVideo,\r\n    clearError,\r\n    retry\r\n  };\r\n};\r\n\r\n/**\r\n * Hook for fetching a single YouTube video\r\n */\r\nexport const useYouTubeVideo = (videoId?: string) => {\r\n  const [video, setVideo] = useState<VideoItem | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchVideo = useCallback(async (id: string, category: VideoCategory = VideoCategory.OTHER) => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const youtubeVideo = await youtubeService.fetchVideo(id);\r\n      const videoItem = youtubeService.convertToVideoItem(youtubeVideo, category);\r\n      setVideo(videoItem);\r\n    } catch (err) {\r\n      const errorMessage = handleYouTubeError(err);\r\n      setError(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const clearError = useCallback(() => {\r\n    setError(null);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (videoId) {\r\n      fetchVideo(videoId);\r\n    }\r\n  }, [videoId, fetchVideo]);\r\n\r\n  return {\r\n    video,\r\n    loading,\r\n    error,\r\n    fetchVideo,\r\n    clearError\r\n  };\r\n};\r\n\r\n/**\r\n * Hook for managing multiple YouTube playlists\r\n */\r\nexport const useYouTubePlaylists = () => {\r\n  const [playlists, setPlaylists] = useState<Map<string, YouTubePlaylist>>(new Map());\r\n  const [loading, setLoading] = useState<Set<string>>(new Set());\r\n  const [errors, setErrors] = useState<Map<string, string>>(new Map());\r\n\r\n  const fetchPlaylist = useCallback(async (playlistId: string, category: VideoCategory = VideoCategory.OTHER) => {\r\n    setLoading(prev => new Set(prev).add(playlistId));\r\n    setErrors(prev => {\r\n      const newErrors = new Map(prev);\r\n      newErrors.delete(playlistId);\r\n      return newErrors;\r\n    });\r\n\r\n    try {\r\n      const playlist = await youtubeService.fetchPlaylist(playlistId);\r\n      setPlaylists(prev => new Map(prev).set(playlistId, playlist));\r\n    } catch (error) {\r\n      const errorMessage = handleYouTubeError(error);\r\n      setErrors(prev => new Map(prev).set(playlistId, errorMessage));\r\n    } finally {\r\n      setLoading(prev => {\r\n        const newLoading = new Set(prev);\r\n        newLoading.delete(playlistId);\r\n        return newLoading;\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const getPlaylist = useCallback((playlistId: string) => {\r\n    return playlists.get(playlistId) || null;\r\n  }, [playlists]);\r\n\r\n  const isLoading = useCallback((playlistId: string) => {\r\n    return loading.has(playlistId);\r\n  }, [loading]);\r\n\r\n  const getError = useCallback((playlistId: string) => {\r\n    return errors.get(playlistId) || null;\r\n  }, [errors]);\r\n\r\n  const clearError = useCallback((playlistId: string) => {\r\n    setErrors(prev => {\r\n      const newErrors = new Map(prev);\r\n      newErrors.delete(playlistId);\r\n      return newErrors;\r\n    });\r\n  }, []);\r\n\r\n  const getAllVideos = useCallback((category: VideoCategory = VideoCategory.OTHER): VideoItem[] => {\r\n    const allVideos: VideoItem[] = [];\r\n    \r\n    playlists.forEach(playlist => {\r\n      const videos = youtubeService.convertPlaylistToVideoItems(playlist, category);\r\n      allVideos.push(...videos);\r\n    });\r\n\r\n    return allVideos;\r\n  }, [playlists]);\r\n\r\n  return {\r\n    playlists: Array.from(playlists.values()),\r\n    fetchPlaylist,\r\n    getPlaylist,\r\n    isLoading,\r\n    getError,\r\n    clearError,\r\n    getAllVideos\r\n  };\r\n};","import React, { useState, useEffect } from 'react';\r\nimport { VideoCategory } from '../../types';\r\nimport { useYouTube } from '../../hooks/useYouTube';\r\nimport { YouTubeService } from '../../services/youtube';\r\n\r\nexport interface YouTubeIntegrationProps {\r\n  playlistId?: string;\r\n  category?: VideoCategory;\r\n  maxVideos?: number;\r\n  showMetadata?: boolean;\r\n  onVideoSelect?: (video: any) => void;\r\n  className?: string;\r\n}\r\n\r\nconst YouTubeIntegration: React.FC<YouTubeIntegrationProps> = ({\r\n  playlistId,\r\n  category = VideoCategory.OTHER,\r\n  maxVideos = 10,\r\n  showMetadata = true,\r\n  onVideoSelect,\r\n  className = ''\r\n}) => {\r\n  const { playlist, videos, loading, error, fetchPlaylist, clearError, retry } = useYouTube();\r\n\r\n  useEffect(() => {\r\n    if (playlistId) {\r\n      fetchPlaylist(playlistId, category);\r\n    }\r\n  }, [playlistId, category, fetchPlaylist]);\r\n\r\n  const displayVideos = maxVideos ? videos.slice(0, maxVideos) : videos;\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className={`flex items-center justify-center p-8 ${className}`}>\r\n        <div className=\"text-center\">\r\n          <div className=\"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Loading YouTube content...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className={`bg-red-50 border border-red-200 rounded-lg p-6 ${className}`}>\r\n        <div className=\"flex items-start\">\r\n          <div className=\"flex-shrink-0\">\r\n            <svg className=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n              <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\r\n            </svg>\r\n          </div>\r\n          <div className=\"ml-3 flex-1\">\r\n            <h3 className=\"text-sm font-medium text-red-800\">YouTube Integration Error</h3>\r\n            <p className=\"mt-1 text-sm text-red-700\">{error}</p>\r\n            <div className=\"mt-4 flex space-x-3\">\r\n              <button\r\n                onClick={retry}\r\n                className=\"bg-red-100 hover:bg-red-200 text-red-800 px-3 py-1 rounded text-sm font-medium transition-colors\"\r\n              >\r\n                Retry\r\n              </button>\r\n              <button\r\n                onClick={clearError}\r\n                className=\"text-red-600 hover:text-red-500 text-sm font-medium\"\r\n              >\r\n                Dismiss\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!playlist || videos.length === 0) {\r\n    return (\r\n      <div className={`text-center p-8 text-gray-500 ${className}`}>\r\n        <svg className=\"w-16 h-16 mx-auto mb-4 text-gray-300\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\" />\r\n        </svg>\r\n        <p>No YouTube videos found</p>\r\n        {playlistId && (\r\n          <p className=\"text-sm mt-2\">\r\n            Check that the playlist ID \"{playlistId}\" is correct and public\r\n          </p>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={className}>\r\n      {/* Playlist Header */}\r\n      {playlist && showMetadata && (\r\n        <div className=\"mb-6\">\r\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">{playlist.title}</h2>\r\n          {playlist.description && (\r\n            <p className=\"text-gray-600 mb-4\">{playlist.description}</p>\r\n          )}\r\n          <div className=\"flex items-center text-sm text-gray-500\">\r\n            <svg className=\"w-4 h-4 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n              <path d=\"M2 6a2 2 0 012-2h6l2 2h6a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z\" />\r\n            </svg>\r\n            <span>{videos.length} videos</span>\r\n            <span className=\"mx-2\">â€¢</span>\r\n            <a\r\n              href={`https://www.youtube.com/playlist?list=${playlist.playlistId}`}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"text-red-600 hover:text-red-700 font-medium\"\r\n            >\r\n              View on YouTube\r\n            </a>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Video Grid */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        {displayVideos.map((video) => (\r\n          <div\r\n            key={video.id}\r\n            className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow cursor-pointer\"\r\n            onClick={() => onVideoSelect?.(video)}\r\n          >\r\n            {/* Thumbnail */}\r\n            <div className=\"relative aspect-video bg-gray-200\">\r\n              <img\r\n                src={video.thumbnail}\r\n                alt={video.title}\r\n                className=\"w-full h-full object-cover\"\r\n                loading=\"lazy\"\r\n              />\r\n              {/* Duration Overlay */}\r\n              {video.duration && (\r\n                <div className=\"absolute bottom-2 right-2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded\">\r\n                  {YouTubeService.formatDuration(video.duration)}\r\n                </div>\r\n              )}\r\n              {/* Play Button Overlay */}\r\n              <div className=\"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity bg-black bg-opacity-30\">\r\n                <div className=\"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center\">\r\n                  <svg className=\"w-8 h-8 text-white ml-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                    <path d=\"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z\" />\r\n                  </svg>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Video Info */}\r\n            <div className=\"p-4\">\r\n              <h3 className=\"font-semibold text-gray-900 mb-2 line-clamp-2\">\r\n                {video.title}\r\n              </h3>\r\n              \r\n              {showMetadata && (\r\n                <>\r\n                  {video.description && (\r\n                    <p className=\"text-gray-600 text-sm mb-3 line-clamp-2\">\r\n                      {video.description}\r\n                    </p>\r\n                  )}\r\n                  \r\n                  <div className=\"flex items-center justify-between text-xs text-gray-500\">\r\n                    <div className=\"flex items-center space-x-3\">\r\n                      {video.viewCount && (\r\n                        <span>{YouTubeService.formatViewCount(video.viewCount)}</span>\r\n                      )}\r\n                      <span className=\"capitalize\">\r\n                        {video.category.replace(/_/g, ' ')}\r\n                      </span>\r\n                    </div>\r\n                    \r\n                    {video.createdDate && (\r\n                      <span>\r\n                        {new Date(video.createdDate).toLocaleDateString()}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Tags */}\r\n                  {video.tags.length > 0 && (\r\n                    <div className=\"mt-3 flex flex-wrap gap-1\">\r\n                      {video.tags.slice(0, 3).map((tag, index) => (\r\n                        <span\r\n                          key={index}\r\n                          className=\"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded\"\r\n                        >\r\n                          #{tag}\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Load More Button */}\r\n      {maxVideos && videos.length > maxVideos && (\r\n        <div className=\"text-center mt-8\">\r\n          <button\r\n            onClick={() => {\r\n              // This would typically trigger loading more videos\r\n              // For now, we'll just show all videos\r\n            }}\r\n            className=\"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg font-medium transition-colors\"\r\n          >\r\n            View All {videos.length} Videos\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default YouTubeIntegration;"],"mappings":"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"}