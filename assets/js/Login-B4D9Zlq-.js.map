{"version":3,"file":"Login-B4D9Zlq-.js","names":["errors: { username?: string; password?: string }"],"sources":["../../../src/components/Admin/Auth/Login.tsx"],"sourcesContent":["import { useState, FormEvent } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { LoginCredentials } from '@/types';\r\n\r\nexport const Login = () => {\r\n  const { login, loading, error, clearError } = useAuth();\r\n  const [credentials, setCredentials] = useState<LoginCredentials>({\r\n    username: '',\r\n    password: '',\r\n  });\r\n  const [validationErrors, setValidationErrors] = useState<{\r\n    username?: string;\r\n    password?: string;\r\n  }>({});\r\n\r\n  const validateForm = (): boolean => {\r\n    const errors: { username?: string; password?: string } = {};\r\n\r\n    if (!credentials.username.trim()) {\r\n      errors.username = 'Username is required';\r\n    }\r\n\r\n    if (!credentials.password) {\r\n      errors.password = 'Password is required';\r\n    } else if (credentials.password.length < 6) {\r\n      errors.password = 'Password must be at least 6 characters';\r\n    }\r\n\r\n    setValidationErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e: FormEvent) => {\r\n    e.preventDefault();\r\n    clearError();\r\n\r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await login(credentials);\r\n    } catch (err) {\r\n      // Error is handled by the auth context\r\n      console.error('Login error:', err);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (field: keyof LoginCredentials, value: string) => {\r\n    setCredentials((prev) => ({ ...prev, [field]: value }));\r\n    // Clear validation error for this field\r\n    if (validationErrors[field]) {\r\n      setValidationErrors((prev) => ({ ...prev, [field]: undefined }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-md w-full space-y-8\">\r\n        <div>\r\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\r\n            Admin Login\r\n          </h2>\r\n          <p className=\"mt-2 text-center text-sm text-gray-600\">\r\n            Sign in to access the admin panel\r\n          </p>\r\n        </div>\r\n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\r\n          <div className=\"rounded-md shadow-sm -space-y-px\">\r\n            <div>\r\n              <label htmlFor=\"username\" className=\"sr-only\">\r\n                Username\r\n              </label>\r\n              <input\r\n                id=\"username\"\r\n                name=\"username\"\r\n                type=\"text\"\r\n                autoComplete=\"username\"\r\n                required\r\n                className={`appearance-none rounded-none relative block w-full px-3 py-2 border ${\r\n                  validationErrors.username\r\n                    ? 'border-red-300'\r\n                    : 'border-gray-300'\r\n                } placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`}\r\n                placeholder=\"Username\"\r\n                value={credentials.username}\r\n                onChange={(e) => handleInputChange('username', e.target.value)}\r\n                disabled={loading}\r\n              />\r\n              {validationErrors.username && (\r\n                <p className=\"mt-1 text-sm text-red-600\">\r\n                  {validationErrors.username}\r\n                </p>\r\n              )}\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"password\" className=\"sr-only\">\r\n                Password\r\n              </label>\r\n              <input\r\n                id=\"password\"\r\n                name=\"password\"\r\n                type=\"password\"\r\n                autoComplete=\"current-password\"\r\n                required\r\n                className={`appearance-none rounded-none relative block w-full px-3 py-2 border ${\r\n                  validationErrors.password\r\n                    ? 'border-red-300'\r\n                    : 'border-gray-300'\r\n                } placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`}\r\n                placeholder=\"Password\"\r\n                value={credentials.password}\r\n                onChange={(e) => handleInputChange('password', e.target.value)}\r\n                disabled={loading}\r\n              />\r\n              {validationErrors.password && (\r\n                <p className=\"mt-1 text-sm text-red-600\">\r\n                  {validationErrors.password}\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"rounded-md bg-red-50 p-4\">\r\n              <div className=\"flex\">\r\n                <div className=\"ml-3\">\r\n                  <h3 className=\"text-sm font-medium text-red-800\">{error}</h3>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className={`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white ${\r\n                loading\r\n                  ? 'bg-blue-400 cursor-not-allowed'\r\n                  : 'bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500'\r\n              }`}\r\n            >\r\n              {loading ? 'Signing in...' : 'Sign in'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"2IAIA,MAAa,EAAA,IAAc,CACzB,KAAM,CAAE,MAAA,EAAO,QAAA,EAAS,MAAA,EAAO,WAAA,CAAA,EAAe,EAAA,EACxC,CAAC,EAAa,CAAA,KAAA,EAAA,UAA6C,CAC/D,SAAU,GACV,SAAU,GACX,EACK,CAAC,EAAkB,CAAA,KAAA,EAAA,UAGtB,CAAA,CAAE,EAEC,EAAA,IAA8B,CAClC,MAAMA,EAAmD,CAAA,EAEzD,OAAK,EAAY,SAAS,KAAA,IACxB,EAAO,SAAW,wBAGf,EAAY,SAEN,EAAY,SAAS,OAAS,IACvC,EAAO,SAAW,0CAFlB,EAAO,SAAW,uBAKpB,EAAoB,CAAA,EACb,OAAO,KAAK,CAAA,EAAQ,SAAW,GAGlC,GAAA,UAAA,mBAAsB,EAAiB,CAI3C,GAHA,EAAE,eAAA,EACF,EAAA,EAEI,EAAC,EAAA,EAIL,GAAI,CACF,MAAM,EAAM,CAAA,QACL,EAAK,CAEZ,QAAQ,MAAM,eAAgB,CAAA,qBAZN,EAAA,qCAgBtB,EAAA,CAAqB,EAA+B,IAAkB,CAC1E,EAAgB,GAAA,EAAA,EAAA,CAAA,EAAe,CAAA,EAAA,CAAA,EAAA,CAAA,CAAO,CAAA,EAAQ,CAAA,CAAA,CAAA,EAE1C,EAAiB,CAAA,GACnB,EAAqB,GAAA,EAAA,EAAA,CAAA,EAAe,CAAA,EAAA,CAAA,EAAA,CAAA,CAAO,CAAA,EAAQ,MAAA,CAAA,CAAA,GAIvD,SACE,EAAA,KAAC,MAAA,CAAI,UAAU,kGACb,EAAA,MAAC,MAAA,CAAI,UAAU,yCACb,EAAA,MAAC,MAAA,CAAA,SAAA,IACC,EAAA,KAAC,KAAA,CAAG,UAAU,kEAAyD,mBAGvE,EAAA,KAAC,IAAA,CAAE,UAAU,kDAAyC,qCAElD,CAAA,CAAA,KAEN,EAAA,MAAC,OAAA,CAAK,UAAU,iBAAiB,SAAU,eACzC,EAAA,MAAC,MAAA,CAAI,UAAU,gDACb,EAAA,MAAC,MAAA,CAAA,SAAA,IACC,EAAA,KAAC,QAAA,CAAM,QAAQ,WAAW,UAAU,mBAAU,gBAG9C,EAAA,KAAC,QAAA,CACC,GAAG,WACH,KAAK,WACL,KAAK,OACL,aAAa,WACb,SAAA,GACA,UAAW,uEACT,EAAiB,SACb,iBACA,iBAAA,sIAEN,YAAY,WACZ,MAAO,EAAY,SACnB,SAAW,GAAM,EAAkB,WAAY,EAAE,OAAO,KAAA,EACxD,SAAU,IAEX,EAAiB,aAChB,EAAA,KAAC,IAAA,CAAE,UAAU,qCACV,EAAiB,iBAIxB,EAAA,MAAC,MAAA,CAAA,SAAA,IACC,EAAA,KAAC,QAAA,CAAM,QAAQ,WAAW,UAAU,mBAAU,gBAG9C,EAAA,KAAC,QAAA,CACC,GAAG,WACH,KAAK,WACL,KAAK,WACL,aAAa,mBACb,SAAA,GACA,UAAW,uEACT,EAAiB,SACb,iBACA,iBAAA,sIAEN,YAAY,WACZ,MAAO,EAAY,SACnB,SAAW,GAAM,EAAkB,WAAY,EAAE,OAAO,KAAA,EACxD,SAAU,IAEX,EAAiB,aAChB,EAAA,KAAC,IAAA,CAAE,UAAU,qCACV,EAAiB,aAGlB,IAGP,MACC,EAAA,KAAC,MAAA,CAAI,UAAU,uCACb,EAAA,KAAC,MAAA,CAAI,UAAU,mBACb,EAAA,KAAC,MAAA,CAAI,UAAU,mBACb,EAAA,KAAC,KAAA,CAAG,UAAU,4CAAoC,aAM1D,EAAA,KAAC,MAAA,CAAA,YACC,EAAA,KAAC,SAAA,CACC,KAAK,SACL,SAAU,EACV,UAAW,2HACT,EACI,iCACA,uGAAA,YAGL,EAAU,gBAAkB,WACtB,CAAA,IAEN,OAMf,IAAA,EAAe"}