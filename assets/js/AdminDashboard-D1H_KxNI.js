import{r as b}from"./rolldown-runtime-CzF6_L4l.js";import{i as w,n as l,u as f}from"./admin-components-D24Ek_cO.js";import{i as y}from"./react-vendor-BSVagTro.js";import{t as m}from"./index-C7sBpCSo.js";var c=b(f(),1),e=w(),D=({analytics:a})=>(0,e.jsxs)("div",{className:"dashboard-overview","data-testid":"dashboard-overview",children:[(0,e.jsxs)("div",{className:"metrics-grid",children:[(0,e.jsxs)("div",{className:"metric-card","data-testid":"total-views-metric",children:[(0,e.jsx)("div",{className:"metric-icon",children:"ðŸ‘ï¸"}),(0,e.jsxs)("div",{className:"metric-content",children:[(0,e.jsx)("h3",{children:"Total Views"}),(0,e.jsx)("p",{className:"metric-value",children:a.totalViews.toLocaleString()})]})]}),(0,e.jsxs)("div",{className:"metric-card","data-testid":"total-inquiries-metric",children:[(0,e.jsx)("div",{className:"metric-icon",children:"ðŸ“§"}),(0,e.jsxs)("div",{className:"metric-content",children:[(0,e.jsx)("h3",{children:"Client Inquiries"}),(0,e.jsx)("p",{className:"metric-value",children:a.totalInquiries})]})]}),(0,e.jsxs)("div",{className:"metric-card","data-testid":"conversion-rate-metric",children:[(0,e.jsx)("div",{className:"metric-icon",children:"ðŸ“ˆ"}),(0,e.jsxs)("div",{className:"metric-content",children:[(0,e.jsx)("h3",{children:"Conversion Rate"}),(0,e.jsxs)("p",{className:"metric-value",children:[a.conversionRate.toFixed(1),"%"]})]})]}),(0,e.jsxs)("div",{className:"metric-card","data-testid":"popular-videos-metric",children:[(0,e.jsx)("div",{className:"metric-icon",children:"ðŸŽ¬"}),(0,e.jsxs)("div",{className:"metric-content",children:[(0,e.jsx)("h3",{children:"Popular Videos"}),(0,e.jsx)("p",{className:"metric-value",children:a.popularVideos.length})]})]})]}),(0,e.jsxs)("div",{className:"top-videos-section",children:[(0,e.jsx)("h2",{children:"Top Performing Videos"}),(0,e.jsx)("div",{className:"videos-list",children:a.popularVideos.map(t=>(0,e.jsxs)("div",{className:"video-item",children:[(0,e.jsx)("img",{src:t.thumbnail,alt:t.title,className:"video-thumbnail"}),(0,e.jsxs)("div",{className:"video-details",children:[(0,e.jsx)("h4",{children:t.title}),(0,e.jsxs)("div",{className:"video-stats",children:[(0,e.jsxs)("span",{className:"stat",children:["ðŸ‘ï¸ ",t.views," views"]}),(0,e.jsxs)("span",{className:"stat",children:["ðŸ’¬ ",t.engagement,"% engagement"]})]})]})]},t.videoId))})]})]}),A=D,I=[{id:"overview",label:"Overview",icon:"ðŸ“Š",requiredRoles:[l.SUPER_ADMIN,l.ADMIN,l.EDITOR]},{id:"analytics",label:"Analytics",icon:"ðŸ“ˆ",requiredRoles:[l.SUPER_ADMIN,l.ADMIN]},{id:"inquiries",label:"Client Inquiries",icon:"ðŸ“§",requiredRoles:[l.SUPER_ADMIN,l.ADMIN,l.EDITOR]},{id:"content",label:"Content Management",icon:"ðŸ“",requiredRoles:[l.SUPER_ADMIN,l.ADMIN,l.EDITOR]},{id:"media",label:"Media Management",icon:"ðŸ–¼ï¸",requiredRoles:[l.SUPER_ADMIN,l.ADMIN,l.EDITOR]},{id:"settings",label:"Admin Settings",icon:"âš™ï¸",requiredRoles:[l.SUPER_ADMIN]}],q=({activeSection:a,onSectionChange:t,userRole:n})=>{const{logout:s}=m(),[i,d]=(0,c.useState)(!1),o=I.filter(r=>r.requiredRoles.includes(n));return(0,e.jsxs)("aside",{className:`dashboard-sidebar ${i?"collapsed":""}`,"data-testid":"dashboard-sidebar",children:[(0,e.jsxs)("div",{className:"sidebar-header",children:[(0,e.jsxs)("div",{className:"sidebar-logo",children:[(0,e.jsx)("span",{className:"logo-icon",children:"ðŸŽ¬"}),!i&&(0,e.jsx)("span",{className:"logo-text",children:"Admin Panel"})]}),(0,e.jsx)("button",{className:"sidebar-toggle",onClick:()=>d(!i),title:i?"Expand sidebar":"Collapse sidebar","data-testid":"sidebar-toggle",children:i?"â†’":"â†"})]}),(0,e.jsx)("nav",{className:"sidebar-nav",children:o.map(r=>(0,e.jsxs)("button",{className:`nav-item ${a===r.id?"active":""}`,onClick:()=>t(r.id),title:i?r.label:"","data-testid":`nav-${r.id}`,children:[(0,e.jsx)("span",{className:"nav-icon",children:r.icon}),!i&&(0,e.jsx)("span",{className:"nav-label",children:r.label})]},r.id))}),(0,e.jsx)("div",{className:"sidebar-footer",children:(0,e.jsxs)("button",{className:"logout-btn",onClick:s,title:"Logout","data-testid":"logout-btn",children:[(0,e.jsx)("span",{className:"logout-icon",children:"ðŸšª"}),!i&&(0,e.jsx)("span",{className:"logout-text",children:"Logout"})]})})]})},R=q,S=({analytics:a})=>{const[t,n]=(0,c.useState)("30days");return(0,e.jsxs)("div",{className:"analytics-section","data-testid":"analytics-section",children:[(0,e.jsxs)("div",{className:"analytics-header",children:[(0,e.jsx)("h2",{children:"Analytics & Insights"}),(0,e.jsxs)("div",{className:"time-range-selector",children:[(0,e.jsx)("button",{className:`range-btn ${t==="7days"?"active":""}`,onClick:()=>n("7days"),children:"7 Days"}),(0,e.jsx)("button",{className:`range-btn ${t==="30days"?"active":""}`,onClick:()=>n("30days"),children:"30 Days"}),(0,e.jsx)("button",{className:`range-btn ${t==="90days"?"active":""}`,onClick:()=>n("90days"),children:"90 Days"}),(0,e.jsx)("button",{className:`range-btn ${t==="all"?"active":""}`,onClick:()=>n("all"),children:"All Time"})]})]}),(0,e.jsxs)("div",{className:"analytics-grid",children:[(0,e.jsxs)("div",{className:"analytics-card",children:[(0,e.jsx)("h3",{children:"Video Views Trend"}),(0,e.jsx)("div",{className:"chart-placeholder","data-testid":"views-chart",children:(0,e.jsx)("div",{className:"trend-bar-chart",children:a.inquiryTrends.map((s,i)=>(0,e.jsxs)("div",{className:"chart-bar",children:[(0,e.jsx)("div",{className:"bar",style:{height:`${s.count/10*100}%`}}),(0,e.jsx)("span",{className:"date",children:s.date})]},i))})})]}),(0,e.jsxs)("div",{className:"analytics-card",children:[(0,e.jsx)("h3",{children:"Conversion Funnel"}),(0,e.jsxs)("div",{className:"funnel-chart","data-testid":"conversion-chart",children:[(0,e.jsx)("div",{className:"funnel-item",children:(0,e.jsxs)("div",{className:"funnel-bar",style:{width:"100%"},children:[(0,e.jsx)("span",{className:"funnel-label",children:"Visitors"}),(0,e.jsx)("span",{className:"funnel-value",children:a.totalViews.toLocaleString()})]})}),(0,e.jsx)("div",{className:"funnel-item",children:(0,e.jsxs)("div",{className:"funnel-bar",style:{width:"75%"},children:[(0,e.jsx)("span",{className:"funnel-label",children:"Inquiries"}),(0,e.jsx)("span",{className:"funnel-value",children:a.totalInquiries.toLocaleString()})]})}),(0,e.jsx)("div",{className:"funnel-item",children:(0,e.jsxs)("div",{className:"funnel-bar",style:{width:`${a.conversionRate}%`},children:[(0,e.jsx)("span",{className:"funnel-label",children:"Conversions"}),(0,e.jsxs)("span",{className:"funnel-value",children:[a.conversionRate.toFixed(1),"%"]})]})})]})]}),(0,e.jsxs)("div",{className:"analytics-card full-width",children:[(0,e.jsx)("h3",{children:"Inquiry Trends"}),(0,e.jsxs)("div",{className:"trends-table",children:[(0,e.jsxs)("div",{className:"table-header",children:[(0,e.jsx)("div",{className:"table-cell",children:"Date"}),(0,e.jsx)("div",{className:"table-cell",children:"New Inquiries"}),(0,e.jsx)("div",{className:"table-cell",children:"Conversions"}),(0,e.jsx)("div",{className:"table-cell",children:"Conversion Rate"})]}),a.inquiryTrends.map((s,i)=>(0,e.jsxs)("div",{className:"table-row",children:[(0,e.jsx)("div",{className:"table-cell",children:s.date}),(0,e.jsx)("div",{className:"table-cell",children:s.count}),(0,e.jsx)("div",{className:"table-cell",children:s.conversions}),(0,e.jsxs)("div",{className:"table-cell",children:[s.count>0?(s.conversions/s.count*100).toFixed(0):0,"%"]})]},i))]})]}),(0,e.jsxs)("div",{className:"analytics-card full-width",children:[(0,e.jsx)("h3",{children:"Key Metrics Summary"}),(0,e.jsxs)("div",{className:"metrics-summary",children:[(0,e.jsxs)("div",{className:"summary-item",children:[(0,e.jsx)("span",{className:"summary-label",children:"Total Views"}),(0,e.jsx)("span",{className:"summary-value",children:a.totalViews.toLocaleString()})]}),(0,e.jsxs)("div",{className:"summary-item",children:[(0,e.jsx)("span",{className:"summary-label",children:"Total Inquiries"}),(0,e.jsx)("span",{className:"summary-value",children:a.totalInquiries})]}),(0,e.jsxs)("div",{className:"summary-item",children:[(0,e.jsx)("span",{className:"summary-label",children:"Conversion Rate"}),(0,e.jsxs)("span",{className:"summary-value",children:[a.conversionRate.toFixed(1),"%"]})]}),(0,e.jsxs)("div",{className:"summary-item",children:[(0,e.jsx)("span",{className:"summary-label",children:"Avg Views per Video"}),(0,e.jsx)("span",{className:"summary-value",children:a.popularVideos.length>0?Math.round(a.popularVideos.reduce((s,i)=>s+i.views,0)/a.popularVideos.length):0})]})]})]})]})]})},C=S,M={new:"#3498db",read:"#95a5a6",in_progress:"#f39c12",responded:"#27ae60",archived:"#7f8c8d"},_={low:"#95a5a6",medium:"#3498db",high:"#e74c3c",urgent:"#c0392b"},V=({inquiries:a})=>{const t=s=>s.replace("_"," ").split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" "),n=s=>s.charAt(0).toUpperCase()+s.slice(1);return(0,e.jsxs)("div",{className:"recent-inquiries-widget","data-testid":"recent-inquiries-widget",children:[(0,e.jsxs)("div",{className:"widget-header",children:[(0,e.jsx)("h3",{children:"Recent Client Inquiries"}),(0,e.jsx)("a",{href:"#inquiries",className:"view-all-link",children:"View All"})]}),(0,e.jsx)("div",{className:"inquiries-list",children:a.length===0?(0,e.jsx)("p",{className:"no-data",children:"No inquiries yet"}):a.map(s=>(0,e.jsxs)("div",{className:"inquiry-item","data-testid":`inquiry-${s.id}`,children:[(0,e.jsxs)("div",{className:"inquiry-header",children:[(0,e.jsxs)("div",{className:"inquiry-title",children:[(0,e.jsx)("h4",{children:s.name}),(0,e.jsx)("span",{className:"priority-badge",style:{backgroundColor:_[s.priority]},title:n(s.priority),children:n(s.priority)})]}),(0,e.jsx)("span",{className:"status-badge",style:{backgroundColor:M[s.status]},children:t(s.status)})]}),(0,e.jsx)("p",{className:"inquiry-project-type",children:s.projectType}),(0,e.jsxs)("p",{className:"inquiry-message",children:[s.message.substring(0,80),"..."]}),(0,e.jsxs)("div",{className:"inquiry-footer",children:[(0,e.jsx)("span",{className:"inquiry-email",children:s.email}),(0,e.jsx)("span",{className:"inquiry-date",children:new Date(s.submittedAt).toLocaleDateString()})]})]},s.id))})]})},T=V,L={uploaded:"â¬†ï¸",updated:"âœï¸",created:"âž•",deleted:"ðŸ—‘ï¸",viewed:"ðŸ‘ï¸",published:"ðŸ“¤",archived:"ðŸ“¦"},k=({activities:a})=>{const t=n=>{const s=new Date().getTime()-new Date(n).getTime(),i=Math.floor(s/6e4),d=Math.floor(s/36e5),o=Math.floor(s/864e5);return i<1?"Just now":i<60?`${i}m ago`:d<24?`${d}h ago`:o<7?`${o}d ago`:new Date(n).toLocaleDateString()};return(0,e.jsxs)("div",{className:"activity-feed-widget","data-testid":"activity-feed-widget",children:[(0,e.jsxs)("div",{className:"widget-header",children:[(0,e.jsx)("h3",{children:"Recent Activity"}),(0,e.jsx)("a",{href:"#activity",className:"view-all-link",children:"View All"})]}),(0,e.jsx)("div",{className:"activity-list",children:a.length===0?(0,e.jsx)("p",{className:"no-data",children:"No recent activity"}):a.map(n=>(0,e.jsxs)("div",{className:"activity-item","data-testid":`activity-${n.id}`,children:[(0,e.jsx)("div",{className:"activity-icon",children:L[n.action]||"âš™ï¸"}),(0,e.jsxs)("div",{className:"activity-content",children:[(0,e.jsxs)("p",{className:"activity-action",children:[(0,e.jsx)("span",{className:"action",children:n.action}),(0,e.jsx)("span",{className:"resource",children:n.resource})]}),n.details&&(0,e.jsx)("p",{className:"activity-details",children:n.details}),(0,e.jsxs)("p",{className:"activity-meta",children:[(0,e.jsxs)("span",{className:"user",children:["By ",n.user]}),(0,e.jsx)("span",{className:"time",children:t(n.timestamp)})]})]})]},n.id))})]})},E=k,$=()=>{const{user:a,isAuthenticated:t}=m(),[n,s]=(0,c.useState)("overview"),[i,d]=(0,c.useState)(null),[o,r]=(0,c.useState)([]),[h,u]=(0,c.useState)([]),[v,x]=(0,c.useState)(!0);if(!t||!a)return(0,e.jsx)(y,{to:"/admin/login",replace:!0});if(a.role!==l.SUPER_ADMIN&&a.role!==l.ADMIN)return(0,e.jsxs)("div",{className:"admin-dashboard-error",children:[(0,e.jsx)("h1",{children:"Access Denied"}),(0,e.jsx)("p",{children:"You do not have permission to access the admin dashboard."})]});(0,c.useEffect)(()=>{const N={totalViews:15234,totalInquiries:42,popularVideos:[{videoId:"1",title:"Summer Campaign Video",views:3421,engagement:85,thumbnail:"https://via.placeholder.com/150"},{videoId:"2",title:"Product Launch",views:2891,engagement:72,thumbnail:"https://via.placeholder.com/150"}],inquiryTrends:[{date:"2024-01-15",count:5,conversions:2},{date:"2024-01-16",count:8,conversions:3},{date:"2024-01-17",count:6,conversions:2}],conversionRate:45.2,timeRange:{start:new Date(Date.now()-2592e6),end:new Date}},p=[{id:"1",name:"John Smith",email:"john@example.com",phone:"555-0123",projectType:"Commercial",message:"Looking for a professional video for our startup",status:"new",priority:"high",submittedAt:new Date(Date.now()-2880*60*1e3),notes:[]},{id:"2",name:"Sarah Johnson",email:"sarah@example.com",phone:"555-0456",projectType:"Music Video",message:"We need a music video for our new single",status:"in_progress",priority:"medium",submittedAt:new Date(Date.now()-7200*60*1e3),notes:[]}],g=[{id:"1",action:"uploaded",resource:"media",user:"admin",timestamp:new Date(Date.now()-3600*1e3),details:"Uploaded new video: Summer Campaign"},{id:"2",action:"updated",resource:"inquiry",user:"admin",timestamp:new Date(Date.now()-10800*1e3),details:"Updated inquiry #2 status to in_progress"},{id:"3",action:"created",resource:"project",user:"admin",timestamp:new Date(Date.now()-300*60*1e3),details:"Created new project: Product Launch"}];d(N),r(p),u(g),x(!1)},[]);const j=()=>{switch(n){case"overview":return(0,e.jsxs)("div",{className:"dashboard-overview-grid",children:[i&&(0,e.jsx)(A,{analytics:i}),(0,e.jsx)("div",{className:"recent-inquiries-container",children:(0,e.jsx)(T,{inquiries:o})}),(0,e.jsx)("div",{className:"activity-feed-container",children:(0,e.jsx)(E,{activities:h})})]});case"analytics":return i?(0,e.jsx)(C,{analytics:i}):null;case"inquiries":return(0,e.jsx)("div",{className:"section-placeholder",children:"Client Inquiries Management"});case"content":return(0,e.jsx)("div",{className:"section-placeholder",children:"Content Management"});case"media":return(0,e.jsx)("div",{className:"section-placeholder",children:"Media Management"});case"settings":return(0,e.jsx)("div",{className:"section-placeholder",children:"Admin Settings"});default:return null}};return(0,e.jsxs)("div",{className:"admin-dashboard","data-testid":"admin-dashboard",children:[(0,e.jsx)(R,{activeSection:n,onSectionChange:s,userRole:a.role}),(0,e.jsxs)("div",{className:"dashboard-main-content",children:[(0,e.jsxs)("div",{className:"dashboard-header",children:[(0,e.jsx)("h1",{children:"Admin Dashboard"}),(0,e.jsx)("div",{className:"user-info",children:(0,e.jsxs)("span",{children:["Welcome, ",a.username]})})]}),(0,e.jsx)("div",{className:"dashboard-content",children:v?(0,e.jsx)("div",{className:"loading-state",children:"Loading dashboard..."}):j()})]})]})},W=$;export{W as default};

//# sourceMappingURL=AdminDashboard-D1H_KxNI.js.map